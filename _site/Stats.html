<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Stats</title>

<script src="site_libs/header-attrs-2.23/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="site_libs/tabwid-1.1.3/tabwid.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Audrey Yeo</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="hyphenates.html">Hyphenates</a>
</li>
<li>
  <a href="Poems.html">Poems</a>
</li>
<li>
  <a href="Stats.html">Stats</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Stats</h1>

</div>


<p>Last update: “2023-07-09”</p>
<p>These notes in Statistics are for the visual thinker who finds
comfort in formulas, or would like to. The following topics are covered
in this page:</p>
<div id="hypothesis-testing" class="section level3">
<h3>1. Hypothesis testing</h3>
</div>
<div id="futility-analysis-in-adaptive-trial-designs"
class="section level3">
<h3>2. Futility analysis in adaptive trial designs</h3>
<hr />
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
</div>
<div id="hypothesis-testing-is-about-statistical-evidence"
class="section level3">
<h3>1. Hypothesis Testing is about Statistical evidence</h3>
<p>The general idea is that hypothesis testing is running a controlled
experiment. An experiment is a real life simulation of action and
measurable consequences. Its design measures the relationship between
between intervention or non-intervention and results.</p>
<p>There are three steps to hypothesis testing</p>
<div id="making-initial-assumptions" class="section level5">
<h5>1.1 making initial assumption/s</h5>
</div>
<div id="collecting-the-evidence" class="section level5">
<h5>1.2 collecting the evidence</h5>
</div>
<div
id="based-on-evidence-decide-whether-or-not-to-reject-the-initial-assumption"
class="section level5">
<h5>1.3 based on evidence, decide whether or not to reject the initial
assumption</h5>
</div>
</div>
<div id="statistical-evidence" class="section level3">
<h3>2. Statistical evidence</h3>
<p>It is helpful to visualise the meaning of statistical evidence, and
allocating meanings of alpha, beta, type I-II errors and power under the
relevant curve.</p>
<p>Statistical evidence is an idea that positive or negative results of
the experiment are aggregated in a hypothetical manner such that if the
null hypothesis is true, and we accept the null hypothesis, we allow at
most, “alpha percentage” of experiments, e.g. 5% or 5 out of 100
hypothetical experiments to have positive results, even though we did
not see this result.</p>
<p>If the alternative hypothesis is true, statistical evidence looks
like this : if the alternative hypothesis is true, and we accept the
alternative hypothesis, we allow at most, “1- beta percentage” of
experiments, e.g. 80% or 80 out of 100 hypothetical experiments to
detect a positive result, even though we did not see this result.</p>
<hr />
<div id="making-initial-assumptions-1" class="section level4">
<h4>Making initial assumptions</h4>
<p>We pre-set our assumptions or boundaries of when we would declare an
effect significant or not. In the pharma industry, this can liken to the
efficacy of a molecule (medicine).</p>
<p>Where it is not efficacious and efficacious must be defined. An
example could be the survival time between placebo and a novel drug
group. The event of interest is death - Which group will live longer, or
have a more delayed time to event ? Hopefully it would be due to the
novel drug. We assume the survival trajectories will differ by a
favourable hazard ratio (the hazard rate of the treatment group divided
by the placebo group). We assume that the novel drug is that good, that
it affords a hazard ratio of 0.5 at a pre-set median. Why median ? We
chose a time point to compare two survival curves and it does not have
to be a median, however, could be a meaningful time point for the
disease or for the competitive landscape. What is the meaning of a
hazard ratio of 0.5 ? It means that the hazard rate of the novel drug
group is half of that of the placebo, making the ratio 0.5 (It could be
interpreted as : The novel drug is assumed to have a hazard rate of 0.5
versus 1 in the placebo group).</p>
<p>The time point is only significant to the decision makers of the drug
maker, but we will not define it in this example.</p>
<p>For example, for a time-to-event endpoint, at a meaningful time point
our assumptions are as follows :</p>
<p><span class="math display">\[H_{0} :  S_{placebo}(x) = S_{novel
\space drug}(x) \]</span> <span class="math display">\[H_{1}
:  S_{placebo}(x) ≠ S_{novel \space drug}(x) \]</span></p>
<p>Notice the dis-equality sign gives us a clue that the hypothesis
testing is two-sided. This is also an assumption, that the difference
between both survival curves is that the hazard ratio is not the
same.</p>
<p>Allowed type I error is 5% :</p>
<p><span class="math display">\[\alpha = 0.05,  \space two \space
sided\]</span> What is the type I error ? It is precisely defined by.
You may remember this table :</p>
<div class="tabwid"><style>.cl-4a2f6b48{}.cl-4a22f746{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-4a26832a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-4a269838{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a269842{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-4a269843{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-4a2f6b48'><thead><tr style="overflow-wrap:break-word;"><th class="cl-4a269838"><p class="cl-4a26832a"><span class="cl-4a22f746">DecisionvTruth</span></p></th><th class="cl-4a269838"><p class="cl-4a26832a"><span class="cl-4a22f746">Ho_true</span></p></th><th class="cl-4a269838"><p class="cl-4a26832a"><span class="cl-4a22f746">Ho_false</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-4a269842"><p class="cl-4a26832a"><span class="cl-4a22f746">Reject Ho</span></p></td><td class="cl-4a269842"><p class="cl-4a26832a"><span class="cl-4a22f746">alpha or type I error</span></p></td><td class="cl-4a269842"><p class="cl-4a26832a"><span class="cl-4a22f746">1-alpha (correct decision)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-4a269843"><p class="cl-4a26832a"><span class="cl-4a22f746">Accept Ho</span></p></td><td class="cl-4a269843"><p class="cl-4a26832a"><span class="cl-4a22f746">1-Beta or power (correct decision)</span></p></td><td class="cl-4a269843"><p class="cl-4a26832a"><span class="cl-4a22f746">Beta or type II error</span></p></td></tr></tbody></table></div>
<p>Something that I feel textbooks skip is first introduce alpha and
beta as rates of acceptable error rates when the null hypothesis is true
or false, respectively. When an incorrect decision is taken given truth,
alpha and beta respectively become quantitative description of the
incorrect decision, or simply, error rates, as seen in Statistical
evidence in section 2.</p>
</div>
<div id="collecting-evidence" class="section level4">
<h4>2. collecting evidence</h4>
<p>In the context of novel drug discovery, the protocol of how the
experiment is performed which includes strict inclusion and exclusion
criteria is how the evidence should be collected. In survival endpoints,
this is the expected number of events. Experiments can halt earlier due
to ethical and feasibility reasons. Experiments can also have interim
analysis for efficacy or futility or both. The former will affect the
cumulative alpha and the latter on cumulative beta spent for the mere
action of looking at the unblinded data.</p>
</div>
<div id="after-data-is-collected-make-a-final-decision."
class="section level4">
<h4>3. after data is collected, make a final decision.</h4>
<p>Assuming no interim or interim analyses for efficacy, futility or
both, a final decision is made after the number of events have been
observed, or earlier if the experiment is halted for the afore mentioned
reasons.</p>
<hr />
</div>
<div
id="on-futility-analysis-in-adaptive-trials-design-we-will-explore-the-following"
class="section level4">
<h4>On Futility Analysis in adaptive trials design, we will explore the
following</h4>
<!-- ### 1. Basic notations -->
<!-- ### 2. How to choose a futility boundary (conditional power) -->
<!-- ### 3. Trade offs -->
<p>Let’s assume we run a trial with any number of interim futility
analysis. While keeping the same example as above, let’s have a look at
some notations. Z score being the converted score from hazards ratio to
the normally distributed support of X.</p>
<p>We reject the null hypothesis when we observe the following :</p>
<p><span class="math display">\[ P( |Z_{observed\space at \space IA}|
&gt; Z_{futility \space boundary \space} ) \]</span> We accept the null
hypothesis otherwise.</p>
<!-- ## The following are important definitions. -->
<!-- The probability to stop at interim for futility is the probability to stop under $$H_0$$, that is : (is this the exit probability) -->
<!-- $$ P_{H0} ( |Z_{observed\space at \space IA}| > Z_{futility \space boundary \space at \space IA} ) (1)$$ -->
<!-- The probability to continue at interim for futility is the probability to continue under $$H_0$$, is 1- the equation above (1), that is, the probability to obtain an interim result that does not stop the trial e.g. when the $$Z$$ score does not cross the futility boundary and renders the trial promising enough to continue: -->
<!-- $$ P_{H0} ( |Z_{observed\space at \space IA}| < Z_{futility \space boundary \space at \space IA} ) $$  -->
<!-- The probability of false continue, or probability of having a negative trial at the end but not having stopped at the IA can be viewed from the perspective of the $$H_0$$. -->
<!-- $$ P_{H_0} (\space |Z_{observed\space at \space IA}| > Z_{futility \space boundary \space at \space IA} \space ) $$  -->
<!-- The probability of false stop, or probability of having a positive trial in the end but having stopped at the IA can be viewed from the perspective of the $$H_1$$: -->
<!-- $$ P_{H_1} (\space |Z_{observed\space at \space IA}| < Z_{futility \space boundary \space at \space IA} \space) $$  -->
<p>The MDD (Minimal Detectable Difference) is defined as</p>
<p><span class="math display">\[ min( \space |Z_{\space interim \space
or \space final} | \space Z_{stage} &gt; Z_{boundary} \space)
\]</span></p>
<p>The power at Interim (Conditional Power) and Overall power Final
:</p>
<p>Conditional Power : Given observed data and assumptions regarding
future data, one can compute the probability that a positive trial
result will be obtained at the planned final sample size. This
probability is known as conditional power because it is conditional on
the data obtained to that point.</p>
<p><span class="math display">\[ P(\space Z_{observed\space at \space
final} &gt; Z_{futility \space boundary \space at \space interim \space
or \space final} \space | \space H_{1} ) \]</span></p>
<p>Overall power: The overall power is the probability to have a
positive study at the final analysis and continuation at the futility
under <span class="math inline">\(H1\)</span>. It is defined as</p>
<p><span class="math display">\[
P(|Z| &gt; t, Z_{FA} &gt; t_{FA})
\]</span></p>
<!-- ##### References -->
</div>
</div>





</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
